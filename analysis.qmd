---
title: "2024 United States Presidential Election Analysis"
author: "CaliSakuraium"
format:
  html:
    code-fold: true
    code-tools: true
    df-print: paged
    code-line-numbers: true
editor: visual
execute:
  warning: false
  message: false
  keep-md: true
  echo: false
---

The 2024 United States presidential election will be the 60th presidential election. It will be between current Democratic Vice President Kamala Devi Harris and former Republican President Donald John Trump.

```{r, results='hide'}
#| label: load-packages

library(dplyr)
library(ggplot2)
library(ggthemes)
library(tidyverse)
```

```{r, results='hide'}
#| label: create_filtered_df

national_presidential_polling <- read_csv('polling/national_presidential.csv')

xnational_presidential_polling <- national_presidential_polling |>
    mutate(
        sample_size = as.numeric(sample_size),
        pollscore = as.numeric(pollscore),
        start_date = as.Date(start_date, format="%m/%d/%y"),
        end_date = as.Date(end_date, format="%m/%d/%y")
    ) |>
    filter(
        !is.na(sample_size),
        internal != "TRUE",
        !partisan %in% c("DEM", "REP"),
        candidate_name %in% c("Kamala Harris", "Donald Trump"),
        start_date >= '2024-07-21'
    )

avg_national_presidential_polling <- national_presidential_polling |>
    mutate(
        sample_size = as.numeric(sample_size),
        pollscore = as.numeric(pollscore),
        start_date = as.Date(start_date, format="%m/%d/%y"),
        end_date = as.Date(end_date, format="%m/%d/%y")
    ) |>
    filter(
        !is.na(sample_size),
        internal != "TRUE",
        !partisan %in% c("DEM", "REP"),
        candidate_name %in% c("Kamala Harris", "Donald Trump"),
        start_date >= '2024-07-21'
    ) |>
    summarize(
        pct = round(weighted.mean(pct, as.numeric(sample_size), na.rm = TRUE),1),
        .by = c(start_date,candidate_name)
    ) |>
    arrange(start_date)

avg_swing_presidential_polling <- national_presidential_polling |>
    mutate(
        sample_size = as.numeric(sample_size),
        pollscore = as.numeric(pollscore),
        start_date = as.Date(start_date, format="%m/%d/%y"),
        end_date = as.Date(end_date, format="%m/%d/%y")
    ) |>
    filter(
        !is.na(sample_size),
        internal != "TRUE",
        !partisan %in% c("DEM", "REP"),
        state %in% c("Pennsylvania", "Michigan", "Wisconsin", "North Carolina", "Georgia", "Arizona", "Nevada"),
        candidate_name %in% c("Kamala Harris", "Donald Trump"),
        start_date >= '2024-07-21'
    ) |>
    summarize(
        a_pct = round(weighted.mean(pct, as.numeric(sample_size), na.rm = TRUE),1),
        .by = c(start_date,state,candidate_name)
    ) |>
    arrange(start_date)

swing_state_summary <- avg_swing_presidential_polling |>
    group_by(state, candidate_name) |>
    summarize(pct = round(mean(a_pct, na.rm = TRUE),1))
```

```{r, results='hide'}
#| label: create_filtered_df_2

pennsylvania_summary <- avg_swing_presidential_polling |> 
    filter(state == "Pennsylvania") |>
    group_by(state, candidate_name) |>
    summarize(pct = round(mean(a_pct, na.rm = TRUE),1)) |>
    arrange(desc(candidate_name))

pa_harris <- pennsylvania_summary$pct[1]
pa_trump <- pennsylvania_summary$pct[2]

michigan_summary <- avg_swing_presidential_polling |> 
    filter(state == "Michigan") |>
    group_by(state, candidate_name) |>
    summarize(pct = round(mean(a_pct, na.rm = TRUE),1)) |>
    arrange(desc(candidate_name))

mi_harris <- michigan_summary$pct[1]
mi_trump <- michigan_summary$pct[2]

wisconsin_summary <- avg_swing_presidential_polling |> 
    filter(state == "Wisconsin") |>
    group_by(state, candidate_name) |>
    summarize(pct = round(mean(a_pct, na.rm = TRUE),1)) |>
    arrange(desc(candidate_name))

wi_harris <- wisconsin_summary$pct[1]
wi_trump <- wisconsin_summary$pct[2]

georgia_summary <- avg_swing_presidential_polling |> 
    filter(state == "Georgia") |>
    group_by(state, candidate_name) |>
    summarize(pct = round(mean(a_pct, na.rm = TRUE),1)) |>
    arrange(desc(candidate_name))

ga_harris <- georgia_summary$pct[1]
ga_trump <- georgia_summary$pct[2]

north_carolina_summary <- avg_swing_presidential_polling |> 
    filter(state == "North Carolina") |>
    group_by(state, candidate_name) |>
    summarize(pct = round(mean(a_pct, na.rm = TRUE),1)) |>
    arrange(desc(candidate_name))

nc_harris <- north_carolina_summary$pct[1]
nc_trump <- north_carolina_summary$pct[2]

nevada_summary <- avg_swing_presidential_polling |> 
    filter(state == "Nevada") |>
    group_by(state, candidate_name) |>
    summarize(pct = round(mean(a_pct, na.rm = TRUE),1)) |>
    arrange(desc(candidate_name))

nv_harris <- nevada_summary$pct[1]
nv_trump <- nevada_summary$pct[2]

arizona_summary <- avg_swing_presidential_polling |> 
    filter(state == "Arizona") |>
    group_by(state, candidate_name) |>
    summarize(pct = round(mean(a_pct, na.rm = TRUE),1)) |>
    arrange(desc(candidate_name))

az_harris <- arizona_summary$pct[1]
az_trump <- arizona_summary$pct[2]
```

## National Polling

```{r, results='hide'}
#| label: national_polling_chart

ggplot(
    avg_national_presidential_polling,
    aes(x=start_date,y=pct,color=candidate_name,fill=candidate_name, shape=candidate_name)
) + geom_smooth() + 
    geom_point(
        data=xnational_presidential_polling,
        mapping=aes(x=start_date,y=pct,alpha=0.03)
    ) +
    scale_color_manual(values=c("Donald Trump" = "#D6090B","Kamala Harris" = "#031BBB")) +
    scale_fill_manual(values=c("Donald Trump" = "#D6090B","Kamala Harris" = "#031BBB")) +
    theme(axis.text.x = element_text(angle=90, hjust=0.5)) +
    labs(
        title="Who Leads Nationally?",
        x="Date",
        y="Percentage",
        color="Candidate",
        shape="Candidate"
    ) + 
    guides (
        fill="none",
        alpha="none",
  )
```

Prior to Joe Biden dropping out of the 2024 United States Election, Donald Trump held the lead in many polls. However after Kamala Harris became the new presumptive nominee, polling has seen a significant shift in the Democratic Party's favor.

## Battleground State Polling

```{r, results='hide'}
#| label: battleground_state_summary_chart
 
 ggplot(
    swing_state_summary,
    aes(x=state, y=pct, fill=candidate_name, group=candidate_name)
) + 
    geom_col(position="dodge") + 
    scale_fill_manual(values=c(
        "Donald Trump" = "#D6090B",
        "Kamala Harris" = "#031BBB"
    )
    ) +
    coord_cartesian(ylim=c(40, 50)) +
    theme(axis.text.x = element_text(angle=90, hjust=0.5)) + 
    labs(
        title="Who Leads In The Battleground States?",
        x="State",
        y="Percentage",
        fill="Candidate"
    )
```

| State          | Kamala Harris   | Donald Trump   |
|:---------------|-----------------|:---------------|
| Pennsylvania   | `r pa_harris` % | `r pa_trump` % |
| Michigan       | `r mi_harris` % | `r mi_trump` % |
| Wisconsin      | `r wi_harris` % | `r wi_trump` % |
| North Carolina | `r nc_harris` % | `r nc_trump` % |
| Georgia        | `r ga_harris` % | `r ga_trump` % |
| Arizona        | `r az_harris` % | `r az_trump` % |
| Nevada         | `r nv_harris` % | `r nv_trump` % |

Currently, Kamala Harris holds the lead in most battleground states. However, it is important to note that she *only* needs Pennsylvania, Michigan, and Wisconsin to get *exactly* the 270 votes needed to be elected President.

![](images/HarrisPathToVictory.png)

On the other hand, Donald Trump would only need the states of Pennsylvania, North Carolina, and Georgia to secure victory.

![](images/TrumpPathToVictory.png)

Notice how for both candidates, their paths to victory require the state of Pennsylvania, as such, many experts refer to Pennsylvania as the *tipping point state*. As if either candidate wins the state of Pennsylvania, the path of victory for the other candidate gets significantly narrower. As a result, both parties have made significant efforts in the state. Harris as well has began an offensive into North Carolina to kill Donald Trumps most likely path of a second term, as same for Harris with Pennsylvania.

## Electoral Map

[![](images/PollingElectoralMap.png)](https://yapms.com/app?m=o7f94q9u15ib6lo)

Based off polling data, this is what the Electoral Map would look like assuming all other states outside of the battleground remain the same. What is interesting however is that this is also the same map that Joe Biden had won in 2020. It is also important to note that between 2020 and 2024 as a result of the 2020 Census, Electoral Votes were redistributed, as such, Biden won 306 with this map in 2020, but for Harris, it would be 303. Regardless, if Harris wins with this map, this would be the first time in United States history that the electoral map has ever stayed the same for two consecutive election cycles.